<ui:composition template="/templates/pageTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


	<div id="contentFrame">
		<ui:define name="contentFrame">

			<p:panelGrid columns="1" cellspacing="5" width="100%">
					<p:dataTable id="messagesTable"
								 value="#{uiBean.webhookMessages}" var="m"
								 rows="100"
								 paginator="true"
								 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								 rowsPerPageTemplate="100,500,1000"
								 stickyHeader="true" stickyTopAt=".layout-topbar"
								 emptyMessage="No data"
								 cellpadding="0" cellspacing="0" width="100%">

						<p:column headerText="Time" sortBy="#{m.timestamp}">
							<h:outputText value="#{m.formatedTimestamp}" />
						</p:column>

						<p:column headerText="From">
							<h:outputText value="#{m.remoteHost}:#{m.remotePort}" />
							<br/>
							<h:outputText value="#{m.headerMap.get('user-agent')}" />
						</p:column>

						<p:column headerText="Request URI">
							<h:outputText value="#{m.method} #{m.requestUri}" />
						</p:column>

						<p:column headerText="Header">
							<h:outputText value="#{m.headerMapAsString}" />
						</p:column>

						<p:column headerText="Body">
							<h:outputText value="#{m.body}" />
						</p:column>

					</p:dataTable>
				</p:panelGrid>

		</ui:define>
	</div>

</ui:composition>

